import{d as g,g as v,h as x,b as c,m as C,l as n,o as B,k as t,a as o,e as m,s as d,x as w,z as V}from"./index.b3af6b60.js";import{d as h}from"./user.6649d19f.js";import{C as k,_ as p,P as A}from"./CenterContainer.b6d0c028.js";import{_}from"./TextEditbox.vue_vue_type_script_setup_true_lang.409a2e15.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E=o("div",{class:"text-center font-semibold text-xl mb-6"},"\u7528\u6237\u767B\u5F55",-1),L={class:"my-4"},y=o("span",null,"\u8D26\u53F7\uFF1A",-1),D={class:"my-4"},b=o("span",null,"\u5BC6\u7801\uFF1A",-1),N={class:"button-group mt-6 flex justify-center"},j=g({__name:"Login",setup(P){const a=v(),u=x(),s=c(""),l=c("");async function f(){if(s.value=="")return u.warning("\u8D26\u53F7\u4E0D\u53EF\u4E3A\u7A7A"),0;if(l.value=="")return u.warning("\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A"),0;a.networkLoading=!0;const e=await h(s.value,l.value);e.code==0?(u.clear(),u.success("\u767B\u5F55\u6210\u529F"),a.login=!0,a.userId=s.value,a.userName=e.msg,d.set("login","1",{expires:7}),d.set("userid",s.value,{expires:7}),d.set("username",e.msg,{expires:7}),w.push("/")):(e.code=2)?u.warning(e.msg):(e.code=3)&&u.error(e.msg),a.networkLoading=!1}return(e,r)=>{const F=V("RouterLink");return B(),C(k,null,{default:n(()=>[t(A,null,{default:n(()=>[E,o("div",L,[y,t(_,{type:"text",modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=i=>s.value=i),"place-holder":"\u8BF7\u8F93\u5165\u8D26\u53F7"},null,8,["modelValue"])]),o("div",D,[b,t(_,{type:"password",modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=i=>l.value=i),"place-holder":"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),o("div",N,[t(p,{onClick:f},{default:n(()=>[m("\u767B\u5F55")]),_:1}),t(F,{to:"/register"},{default:n(()=>[t(p,null,{default:n(()=>[m("\u524D\u5F80\u6CE8\u518C>")]),_:1})]),_:1})])]),_:1})]),_:1})}}});export{j as default};
