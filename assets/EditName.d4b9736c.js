import{d as _,g as f,h as p,b as C,m as h,l as s,o as v,k as u,a as m,e as r,s as F,x as N,z as g}from"./index.f631e653.js";import{f as k}from"./user.64eca55b.js";import{_ as B}from"./TextEditbox.vue_vue_type_script_setup_true_lang.c06c3d98.js";import{C as w,_ as l,P as x}from"./CenterContainer.d95f3796.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E={class:"my-4"},V=m("span",null,"\u65B0\u6635\u79F0\uFF1A",-1),T=_({__name:"EditName",setup(A){const a=f(),t=p(),e=C("");e.value=a.userName;async function i(){if(e.value=="")return t.warning("\u65B0\u6635\u79F0\u4E0D\u53EF\u4E3A\u7A7A"),0;a.networkLoading=!0;const o=await k(a.userId,e.value);o.code==0?(t.success(o.msg),a.userName=e.value,F.set("username",e.value),N.push("/home")):(o.code=3)&&t.error(o.msg),a.networkLoading=!1}return(o,n)=>{const c=g("RouterLink");return v(),h(w,null,{default:s(()=>[u(x,null,{default:s(()=>[m("div",E,[V,u(B,{type:"text",modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=d=>e.value=d),"place-holder":"\u8BF7\u8F93\u5165\u65B0\u6635\u79F0"},null,8,["modelValue"])]),u(l,{onClick:i},{default:s(()=>[r("\u4FEE\u6539")]),_:1}),u(c,{to:"/home"},{default:s(()=>[u(l,null,{default:s(()=>[r("\u53D6\u6D88")]),_:1})]),_:1})]),_:1})]),_:1})}}});export{T as default};
